"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),u=require("react"),j=require("clsx"),y=require("../search-icon-D93Qwxto.cjs");function E(s,a=!0){const t=u.useRef(null);return u.useEffect(()=>{if(!a)return;const n=r=>{const i=t.current;!i||i.contains(r.target)||s(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[s,a]),t}const o=({placeholder:s="Type to search",label:a,keySearch:t,onChangeKeySearch:n,items:r,onSelectItem:i,selectedItem:M,isLoading:_,isMenuOpen:m,setIsMenuOpen:b,className:v,renderItem:d})=>{const D=E(()=>{b(!1)},m),l=u.useMemo(()=>typeof t=="string"?t.trim():"",[t]),x=u.useMemo(()=>r.length===0,[r]),p=u.useMemo(()=>l.length===0,[l]),w=()=>_?e.jsx(o.DropDownMenu,{children:e.jsx(o.Message,{msg:"Loading..."})}):x&&p?e.jsx(o.DropDownMenu,{children:e.jsx(o.Message,{msg:"Data is empty!"})}):x&&!p?e.jsx(o.DropDownMenu,{children:e.jsx(o.Message,{msg:`No result matching '${l}'`})}):e.jsx(o.DropDownMenu,{children:e.jsx(e.Fragment,{children:r.map(c=>{if(typeof d=="function")return d(c);const{value:C,text:N}=c,g=M?.value===C;return e.jsx("li",{role:"option",className:j("base-combobox__item",g&&"base-combobox__item--selected"),onClick:()=>i(c),"aria-selected":g,children:N},c.value)})})});return e.jsxs("div",{ref:D,className:j("base-combobox",v),children:[a&&e.jsx("div",{className:"base-combobox__label","data-testid":"label",children:a}),e.jsxs("div",{className:"base-combobox__input-wrapper",children:[e.jsx("input",{type:"text",placeholder:s,value:t,onChange:c=>n(c.target.value),className:"base-combobox__input",onFocus:()=>b(!0),"data-testid":"input"}),e.jsx("div",{className:"base-combobox__icon",children:e.jsx(y.SearchIcon,{})})]}),m&&w()]})},f=({msg:s})=>e.jsx("li",{className:"base-combobox__message",children:s}),h=({children:s})=>e.jsx("ul",{className:"base-combobox__dropdown",role:"listbox","data-testid":"dropdown-menu",children:s});o.DropDownMenu=h;o.Message=f;o.displayName="Combobox";exports.Combobox=o;exports.ComboboxDropdownMenu=h;exports.ComboboxMessage=f;
